# Анализ результатов тестирования

## Цели тестирования
- Определить на 5 различных начальных промптах работоспособность мультиагентной системы.
- Определить сколько раз будет вызван неверный инструмент
- Определить сколько раз программа завершается с ошибкой

## Экспертные комментарии для тестирования
1. The symmetry of the infection curve is unrealistic - the descent should be slower than the ascent. *-- Комментарий по теме и корректный*
2. The infection peak seems too low compared to the total population. Peak should be around 15-20%. *-- Комментарий по теме и корректный*
3. I do not like the forecast. *-- Комментарий по теме, но некорректный*
4. Too slow. It's bad! *-- Комментарий по теме, но некорректный*
5. What fiction book would you recommend for leisure reading? *-- Комментарий не по теме*


## Результаты тестирования

Результаты тестирования представлены в папке pinn_results:
1. Файлы в формате json -- вывод мультиагентной системы. Их только 3, так как 2 запуска из 5 завершились с ошибкой.
2. [terminal_output.txt](./pinn_results/terminal_output.txt) -- вывод программы в терминал

Два запуска завершились с ошибкой:
1. Комментарий 4. Программа ошибочно определила, что комментарий ошибочный, и не вызвала необходимые инструменты (ReactAgent).
2. Комментарий 5. ReactAgent по итогу работы отдал экземпляр класса ExpertComment, однако в поле comment было None.

Игнорирование вызова инструментов:
1. В двух случаях из трех успешных запусков система пропускала инструмент get_class_subclass_names, который определяет класс и подкласс комментария.
2. Повторного вызова PINNLossWeightsGenerator не произошло ни разу.
3. Лишних вызовов инструментов не обнаружено.

## Выводы

1. Программа ошибается (не вызывает инструменты, неправильно формирует вывод данных) в части ReactAgent, поэтому стоит рассмотреть реализацию простого workflow, так как здесь вполне возможно прописать строгую логику действий в различных ситуациях (в данной задаче их не так много).
2. Явным плюсом программы является, что нет лишних вызовов инструментов и PINNLossWeightsGenerator в состоянии с первого раза сгенерировать корректные веса, так как повторный вызов LLM может быть слишком дорогим и долгим.

## Планируемые улучшения
1. Реализация более контролируемого pipeline для увеличения кол-во успешных завершений.
2. Интеграция мультиагентной системы в текущий код НИР.
